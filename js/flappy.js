!function(t){var e={};function i(s){if(e[s])return e[s].exports;var h=e[s]={i:s,l:!1,exports:{}};return t[s].call(h.exports,h,h.exports,i),h.l=!0,h.exports}i.m=t,i.c=e,i.d=function(t,e,s){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:s})},i.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var s=Object.create(null);if(i.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var h in t)i.d(s,h,function(e){return t[e]}.bind(null,h));return s},i.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="",i(i.s=5)}({5:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),i(6).default.run()},6:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const s=600,h=400,r=document.createElement("canvas");r.width=h,r.height=s;const o=r.getContext("2d");document.getElementById("app").appendChild(r);const n=(t,e)=>Math.floor(Math.random()*(e-t+1))+t;class l{constructor(){}update(t){}render(t){const{x:e,y:i,width:s,height:h,color:r="white"}=this;o.fillStyle=r,o.fillRect(e,i,s,h)}}class c extends l{constructor(){super(),this.x=64,this.y=s/2,this.width=this.height=15,this.g=.6,this.lift=-15,this.v=0}update(t){this.v+=this.g,this.v*=.9,this.y+=this.v,this.y>=s-this.height&&(this.y=s-this.height,this.v=0,t.gameOver()),this.y<0&&(this.y=0,this.v=0)}jump(){this.v+=this.lift}render(){const{x:t,y:e,width:i,height:s,color:h="white"}=this;o.fillStyle=h,o.beginPath(),o.arc(t,e,i,0,2*Math.PI),o.stroke(),o.fill()}init(){this.y=s/2,this.v=0}}class d extends l{constructor(){super(),this.top=n(50,s/2),this.bottom=0,this.width=50,this.x=h,this.space=n(100,150),this.speedX=2,this.highlight=!1}update(t){this.x-=this.speedX}offscreen(){return this.x<-this.width}hits(t){return(t.y-t.height<this.top||t.y+t.height>this.bottom)&&t.x+t.width>this.x&&t.x+t.width<this.x+this.width?(this.highlight=!0,!0):(this.highlight=!1,!1)}render(){const{x:t,y:e,width:i,top:h,bottom:r}=this;o.fillStyle="lime",this.highlight&&(o.fillStyle="red"),this.bottom=this.top+this.space,o.fillRect(t,0,i,h),o.fillRect(t,this.bottom,i,s-r)}}class u extends l{constructor(){super(),this.x=0,this.y=0,this.width=r.width,this.height=r.height,this.color="black"}}e.default=new class{constructor(t=60){this.stop=!1,this.fps=t,this.score=0,this.msg="游戏结束",this.frameCount=0,this.pipes=[],this.bg=new u,this.bird=new c,document.addEventListener("keydown",this.keyPush.bind(this))}run(){this.update(),this.clear(),this.draw(),setTimeout(()=>{this.run()},1e3/this.fps)}update(){if(this.frameCount++,!this.stop){for(let t=this.pipes.length-1;t>=0;t--){const e=this.pipes[t];e.update(this),e.hits(this.bird)&&this.gameOver(),e.offscreen()&&(this.pipes.splice(t,1),this.score++)}this.bird.update(this)}}clear(){o.clearRect(0,0,r.width,r.height)}draw(){this.bg.render();for(let t=this.pipes.length-1;t>=0;t--)this.pipes[t].render();this.bird.render(),this.renderScore(),this.stop||this.frameCount%100!=0||this.pipes.push(new d)}setScore(t){this.score=t}renderScore(){o.font="30px Georgia",o.fillStyle="white",o.fillText(this.score+"",20,30),this.stop&&(o.fillStyle="red",o.fillText(this.msg,h/2,s/2),o.textAlign="center")}gameOver(){this.msg="游戏结束",this.stop=!0}start(){this.stop=!1,this.bird.init(),this.pipes=[],this.score=0}pause(){this.stop=!this.stop,this.msg="暂停"}keyPush(t){const e=this.bird;switch(t.keyCode){case 32:e.jump();break;case 49:this.start();break;case 50:this.pause()}}}}});