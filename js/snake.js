!function(t){var e={};function s(i){if(e[i])return e[i].exports;var h=e[i]={i,l:!1,exports:{}};return t[i].call(h.exports,h,h.exports,s),h.l=!0,h.exports}s.m=t,s.c=e,s.d=function(t,e,i){s.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:i})},s.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},s.t=function(t,e){if(1&e&&(t=s(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(s.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var h in t)s.d(i,h,function(e){return t[e]}.bind(null,h));return i},s.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return s.d(e,"a",e),e},s.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},s.p="",s(s.s=3)}([,,,function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),s(4).default.run()},function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const i=document.createElement("canvas");i.width=400,i.height=400;const h=i.getContext("2d");document.getElementById("app").appendChild(i);class r{constructor(t){this.x=t.x,this.y=t.y,this.width=t.width,this.height=t.height,this.color=t.color||"white",this.speedX=t.speedX||0,this.speedY=t.speedY||0}update(t){}render(t){const{x:e,y:s,width:i,height:r,color:o}=this;h.fillStyle=o;const n=t?t.gs:0;h.fillRect(e*n,s*n,i,r)}setPos(t,e){this.x=t,this.y=e}setSpeed(t,e){this.speedX=t,this.speedY=e}}class o extends r{constructor(t){super(t)}}class n extends r{constructor(t){super(t)}update(t){const e=t.snake;if(this.x===e.x&&this.y===e.y){e.tail++,this.setPos(Math.floor(20*Math.random()),Math.floor(20*Math.random()));const s=t.score+1;t.setScore(s)}}}class c extends r{constructor(t){super(t),this.tails=[],this.tail=5}update(t){const e=t.tc-1;for(this.x+=this.speedX,this.y+=this.speedY,this.x<0&&this.setPos(e,this.y),this.x>e&&this.setPos(0,this.y),this.y<0&&this.setPos(this.x,e),this.y>e&&this.setPos(this.x,0);this.tails.length>this.tail;)this.tails.shift()}render(t){const{width:e,height:s,color:i}=this;h.fillStyle=i;const r=t.gs||0;this.tails.forEach(i=>{h.fillRect(i.x*r,i.y*r,e,s),i.x===this.x&&i.y===this.y&&(this.tail=5,t.score=0)}),this.tails.push({x:this.x,y:this.y})}}e.default=new class{constructor(t=15){this.stop=!1,this.fps=t,this.gs=20,this.tc=20,this.score=0,this.bg=new o({x:0,y:0,width:i.width,height:i.height,color:"black"}),this.apple=new n({x:15,y:15,width:this.tc-2,height:this.tc-2,color:"red"}),this.snake=new c({x:10,y:10,width:this.tc-2,height:this.tc-2,color:"lime"}),document.addEventListener("keydown",this.keyPush.bind(this))}run(){this.update(),this.clear(),this.draw(),setTimeout(()=>{this.run()},1e3/this.fps)}update(){this.stop||(this.apple.update(this),this.snake.update(this))}clear(){h.clearRect(0,0,i.width,i.height)}draw(){this.bg.render(),this.apple.render(this),this.snake.render(this),this.renderScore()}setScore(t){this.score=t}renderScore(){h.font="30px Georgia",h.fillStyle="white",h.fillText(this.score+"",20,30)}keyPush(t){const e=this.snake;switch(t.keyCode){case 37:e.speedX<=0&&e.setSpeed(-1,0);break;case 38:e.speedY<=0&&e.setSpeed(0,-1);break;case 39:e.speedX>=0&&e.setSpeed(1,0);break;case 40:e.speedY>=0&&e.setSpeed(0,1);break;case 32:this.stop=!this.stop}}}}]);