!function(t){var e={};function i(r){if(e[r])return e[r].exports;var s=e[r]={i:r,l:!1,exports:{}};return t[r].call(s.exports,s,s.exports,i),s.l=!0,s.exports}i.m=t,i.c=e,i.d=function(t,e,r){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},i.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(i.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var s in t)i.d(r,s,function(e){return t[e]}.bind(null,s));return r},i.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="",i(i.s=56)}({56:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),i(57).default.run()},57:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const r=document.createElement("canvas");r.width=600,r.height=600;const s=r.getContext("2d");document.getElementById("app").appendChild(r);let o=0;const n=50,a=1/n,h=50/n,l=50/n,d=300,u=120;class c{constructor(t,e,i,r=10,s=20,o=150,n=100,a=100){this.x=e,this.y=i,this.n=r,this.radius=s,this.color={r:o,g:n,b:a},this.rad=2*Math.PI*Math.random(),this.context=t}drawPetal(t){const e=.3+Math.random(),i=this.radius*Math.random()+this.radius;this.context.beginPath(),this.context.moveTo(this.x+.1*Math.cos(this.rad),this.y+.1*Math.sin(this.rad)),this.context.fillStyle="rgba("+Math.floor(this.color.r*(1.25-.5*Math.random()))+","+Math.floor(this.color.g*(1.25-.5*Math.random()))+","+Math.floor(this.color.b*(1.25-.5*Math.random()))+","+t+")",this.context.bezierCurveTo(this.x+Math.cos(this.rad+e)*i*t,this.y+Math.sin(this.rad+e)*i*t,this.x+Math.cos(this.rad+2*e)*i*t,this.y+Math.sin(this.rad+2*e)*i*t,this.x+.1*Math.cos(this.rad+3*e),this.y+.1*Math.sin(this.rad+3*e)),this.context.strokeStyle="rgba(55,55,55,0.1)",this.context.stroke(),this.context.fill()}drawBud(t=1){this.context.beginPath(),this.context.arc(this.x,this.y,t,0,2*Math.PI,!1),this.context.fillStyle="rbga(255,50,1,.5)",this.context.fill(),t++<4&&setTimeout(()=>{this.drawBud()},700)}bloom(){for(let t=1;t<7;t+=1)setTimeout(()=>{this.drawPetal(t*t*.01)},10*t);this.rad+=2.4}start(){for(let t=0;t<this.n;t++)setTimeout(()=>{this.bloom()},100*t),setTimeout(()=>{this.drawBud(4)},100*this.n)}}e.default=new class{constructor(){this.points=[],this.num=0,this.frameCount=0,this.backgd=document.getElementById("backgd")}getHeartPoint(t){const e=Math.sin(t)*Math.sqrt(Math.abs(Math.cos(t)))/(Math.sin(t)+1.4)-2*Math.sin(t)+2;return[125*Math.cos(t)*e,-125*Math.sin(t)*e]}dist(t,e,i,r){return Math.sqrt((t-i)*(t-i)+(e-r)*(e-r))}drawHeart(){const t=[0,0];s.translate(d,u);for(let e=4.7;e<11;e+=.04){const i=this.getHeartPoint(e);this.dist(i[0],i[1],t[0],t[1])<40||(t[0]=i[0],t[1]=i[1],this.points.push(new c(s,i[0],i[1],7,35,255,12,50)))}}drawFlowers(){this.points[this.num-1]&&(this.points[this.num-1].start(),this.num-- >0&&setTimeout(this.drawFlowers.bind(this),130))}drawText(){s.font="70px Arial",s.fillStyle="rbga(255,100,50,0.05)",s.fillText("I LOVE YOU",0,150)}drawName(){s.font="70px Arial",s.fillStyle="rbga(255,70,70,0.06)",s.fillText("程宝宝",0,230)}days(){const t=Math.floor((Date.parse(new Date+"")-Date.parse(new Date("2019/04/20")+""))/864e5);s.font="16px Arial",s.fillStyle="rgb(229,103,71)",s.fillText(`在一起 ${t} 天啦 !`,0,300)}gradient(){const[t,e,i]=[Math.floor(255-a*o),Math.floor(255-h*o),Math.floor(255-l*o)];this.backgd.style.backgroundColor=`rgb(${t},${e},${i})`,o++}run(){this.drawHeart(),s.textAlign="center";for(let t=0;t<20;t++)setTimeout(this.drawText,120*t);setTimeout(()=>{for(let t=0;t<20;t++)setTimeout(this.drawName,120*t);this.days()},3e3),this.num=this.points.length,this.drawFlowers();for(let t=0;t<n;t++)setTimeout(this.gradient,100*t)}}}});